<div
  id="countdown-bar-container"
  class="fixed top-0 left-0 w-full p-2 text-white z-50 text-center font-sans"
>
  <div class="h-[20px] flex items-center justify-center overflow-hidden">
    <p class="mr-2">A√±o nuevo</p>
    <span
      id="countdown-display-bar"
      class="text-xs sm:text-sm font-semibold tracking-wide rounded-2xl px-2"
    >
      Cargando...
    </span>
  </div>
</div>

<script>
  const TARGET_YEAR = 2026;
  const targetTime = new Date(TARGET_YEAR, 0, 1, 0, 0, 0, 0).getTime();

  function calculateTimeComponents(distance: any) {
    const oneSecond = 1000;
    const oneMinute = oneSecond * 60;
    const oneHour = oneMinute * 60;
    const oneDay = oneHour * 24;

    return {
      days: Math.floor(distance / oneDay),
      hours: Math.floor((distance % oneDay) / oneHour),
      minutes: Math.floor((distance % oneHour) / oneMinute),
      seconds: Math.floor((distance % oneMinute) / oneSecond),
    };
  }

  function updateCountdown() {
    const now = new Date().getTime();
    const countdownDisplay = document.getElementById("countdown-display-bar");

    if (!countdownDisplay) return;

    const distance = targetTime - now;

    if (distance <= 0) {
      countdownDisplay.innerHTML = `¬°FELIZ ${TARGET_YEAR}! ü•≥`;
      if (typeof interval !== "undefined") clearInterval(interval);
      return;
    }

    const time = calculateTimeComponents(distance);
    const pad = (n: any) => String(n).padStart(2, "0");

    const displayString = `${pad(time.days)} d√≠as ${pad(time.hours)}:${pad(time.minutes)}:${pad(time.seconds)}`;
    countdownDisplay.textContent = displayString;
  }

  updateCountdown();
  const interval = setInterval(updateCountdown, 1000);
</script>
